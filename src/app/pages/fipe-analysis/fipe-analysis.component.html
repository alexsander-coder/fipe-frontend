<h2>Análise FIPE</h2>

<label>Marca</label>
<select [(ngModel)]="brandId" (change)="carregarModelos()">
  <option *ngFor="let m of marcas" [value]="m.code">
    {{ m.name }}
  </option>
</select>

<label>Modelo</label>
<select [(ngModel)]="modelId">
  <option *ngFor="let m of modelos" [value]="m.code">
    {{ m.name }}
  </option>
</select>

<button (click)="analisar()">Analisar</button>

<table *ngIf="resultado.length">
  <tr>
    <th>Ano</th>
    <th>Valor</th>
    <th>Variação</th>
    <th>%</th>
  </tr>
  <tr *ngFor="let r of resultado">
    <td>{{ r.year }}</td>
    <td>{{ r.value }}</td>
    <td>{{ r.variationValue }}</td>
    <td>{{ r.variationPercent }}</td>
  </tr>
</table>